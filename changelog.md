# Changelog

## 1.7.1
### Corrections
* Correction concernant la gestion des conversions BODV et MODV.
* Passage à log4j 2.17.0.

## 1.7.0
### Evolutions
* Conversion des fichiers glider au format EGO1.2, 1.3 et 1.4 vers le format netCDF SeaDataNet (CFPoint).
* Utilisation des formats "BODV" et "MODV" dans la coupling table.

### Corrections
* Plus d'information dans le log lors de la mise à jour des vocabulaires.
* Message dans le log sur erreur externe à OCTOPUS (si un time-out lors de la mise à jour des vocabulaires, par exemple).
* Bouton "Mise à jour des listes" renommé en "Mise à jour des vocabulaires".
* Contrôle du code P06::TISO pour le paramètre ENDX8601.
* Conversion MedAtlas vers ODV : conservation des commentaires stations.
* Corrections de labels, messages, typos, ...

## 1.6.0
### Evolutions
* Ajout d'un checker pour les fichiers HFRadar (de type NetCDF).

### Corrections
* Fix d'un bug sur l'ExternalResourcesManager empêchant le fonctionnement du mode batch.
* Conversion Medatlas -> CFPoint : mise à jour des labels C17 depuis les vocabs BODC.
* Utilisation de la librairie Java 8 Time pour améliorer certains traitements de dates.
* Correctifs sur la gestion des dates MGD77.
* Prise en compte d'une nouvelle valeur L20.
* Détection de variations de paramètres dans un fichier Medatlas multistations (à splitter avant conversion).
* Corrections de labels, messages, typos, ...

## 1.5.3
### Corrections
* ODV, correction de la valeur par défaut pour bottom depth (valeur vide et non 0)
* Conversion MGD vers ODV: modifications sur le paramètre de profondeur

## 1.5.2.0
### Corrections
* ODV, correction de la valeur par défaut pour bottom depth (valeur vide et non 0)
* Conversion MGD vers ODV: modifications sur le paramètre de profondeur

### Adds-on
* Utilisation de l'unité P06 XXXX au lieu de UUUU pour les paramètres de type texte 
* Affichage de la variante dans la chaine "Generated By" générée par Octopus dans le fichier de sortie
* Autorisation d'utilisation du même P01 plusieurs fois dans un même fichier (un incrément est ajouté pour le nom de variable en NetCDF si besoin)
 	
## 1.5.1.0
### Corrections
* ODV, variante biologique: VOLFFMXX est autoris&eacute; en tant que code P01 pour le param&#232;tre Sampling Effort
* ODV format: d&eacute;tection d'une erreur si une ligne de mapping ne d&eacute;bute pas par les caract&#232;res //
* ODV format: correction d'un bug dans la d&eacute;tection des variantes (cas d'un fichier physico-chimique avec MINWDIST et MAXWDIST)

### Adds-on
* NetCDF SDN Format: improve validation log messages for global attributes
 	
## 1.5.0.6
### Corrections
* Format NetCDF SDN: tous les types num&eacute;riques pour les variables de param&#232;tres mesur&eacute;s sont autoris&eacute;s (pas uniquement les doubles)
* Conversion MedAtlas vers ODV: utilisation de la valeur par d&eacute;faut d&eacute;clar&eacute;e dans la station courante
* Format ODV: Depth n'est plus obligatoire pour les timeseries contenant un param&#232;tre appartenant au P02 ASLV
* Conversion NetCDF vers ODV : suppression des tabulations en trop &#224; la fin des lignes
* COREDIST en tant que variable primaire est autoris&eacute; &#232;galement en cm (ULCM) 
* Check MedAtlas: d&eacute;tection d'une erreur si valeur = d&eacute;faut  et flag != 9 

### Adds-on
* Prise en compte des variantes ODV pour la biologie, la cytom&eacute;trie en flux et les microplastiques: check et conversion ODV vers ODV
* ODV check: la variable primaire doit contenir au moins une valeur non nulle



##Version 1.4.2

### Corrections

* NetCDF SDN: Mise &#224; jour de l'attribut global 'title' : remplacement de 'SeaDataNet_1.0 CF 1.6' par 'SeaDataNet_1.0 CF-1.6'
* Gestion des erreurs si l'utilisateur non connect&eacute; tente de mettre &#224; jour les ressources externes (CSR, BODC, EDMO) 
* NetCDF SDN: correction du type de variable attendu au check pour DEPTH (tout type autoris&eacute;)
* Gestion de l'erreur si le r&eacute;pertoire d'entr&eacute;e est vide 
* Conservation de la taille courante de la fen&ecirc;tre en cas de changement de langage dans les pr&eacute;f&eacute;rences
* Niveau de log par d&eacute;faut fix&eacute; &#224; INFO
 	
### Adds-on
 
* Conformit&eacute; avec java 9 et 10
* V&eacute;rification de la coh&eacute;rence des valeurs avec les flags qualit&eacute;
* La validation consid&#232;re comme valide les s&eacute;ries temporelles ODV contenant un param&#232;tre P02 ASLV &#224; la place d'un AHGT
* Homog&eacute;n&eacute;isation de la valeur par d&eacute;faut pour les param&#232;tres mesur&eacute;s en NetCDF SDN (-99999) 
* Autoriser les r&eacute;f&eacute;rences CSR utilisant le catalogue central
* Les fichiers MedAtlas non SDN sont reconnus mais consid&eacute;r&eacute;s comme invalides (peuvent &ecirc;tre convertis)
* Conversion depuis MedAtlas: la r&eacute;f&eacute;rence SDN CSR est automatiquement ajout&eacute;e &#224; partir du code EDMO et de la r&eacute;f&eacute;rence campagne, si possible
* Toutes conversions: les variables non obligatoires sont supprim&eacute;es si elles ne contiennent aucune donn&eacute;e (valeurs par d&eacute;faut uniquement)
* Conversion vers ODV: une erreur est lev&eacute;e si une des colonnes obligatoires contient une (des) valeur(s) vide(s)
* Mise &#224; jour des flags qualit&eacute; SDN: ajout du flag 'Q'
* Log JSON: ajout du format dans les logs fichier
* Choix automatique du r&eacute;pertoire de sortie par d&eacute;faut pour une conversion en fichiers mono-station
* Possibilit&eacute; de mettre &#224; jour les ressources externes (CSR, BODC, EDMO) en mode batch
	
## 1.4.1

### Corrections
* Lancement d'Octopus hors ligne possible
* corrections sur la conversion MGD vers ODV (mapping SDN, format de date)
* correction de la conversion de netCDF vers ODV lorsque le fichier contient des variables non renseign&eacutees

### Evolutions
* Reconna&#238;tre les fichiers ODV issus de MGD77
* D&eacutetection des fichiers de donn&eacutees biologiques, cytom&eacutetrie en flux et microplastiques (ignor&eacutes, fichiers consid&eacuter&eacutes comme valides au check, Warning utilisateur) 
	
	
## 1.4.0

### Corrections 
* Contr&#244;leur de format MedAtlas : suppression du contr&#244;le sur la longueur max &#224; 80 caract&#232;res des lignes de commentaires
* Gestion d'un "RECORD lines" faux dans les fichiers MedAtlas
* Correction du contraste de couleur dans les menus contextuels (clic droit)
* G&eacuten&eacuteration netCDF : mise &#224; jour de l'attribut unit si l'unit&eacute; P06 est obsol&#232;te et remplac&eacutee par une autre unit&eacute

### Evolutions
* Nouvelle conversion de format : SDN netCDF vers SDN ODV
* Nouveau contr&#244;leur de format pour SDN netCDF
* Am&eacutelioration du contr&#244;leur de format SDN ODV
* Impl&eacutementation du mode batch pour les contr&#244;leurs de format
* Ajout d'une information sur la cr&eacuteation des fichiers : "Generated by Octopus \[version\] \[date\]"
* Nom de fichier de sortie par d&eacutefaut est le m&#234;me que celui du fichier en entr&eacutee, l'extension est rajout&eacutee automatiquement selon la conversion choisie
* Utilisateur pr&eacute;venu s'il se sert d'une version plus ancienne d'OCTOPUS
* Contr&#244;le de l'existence  des r&eacute;f&eacute;rences CSR dans le catalogue CSR
* Mise &#224; jour de la documentation avec les proc&eacute;dures &#224; suivre en cas de configuration avec proxy et/ou en cas de lancement batch sans interface graphique
		
	
	
## 1.3.9
* depend de medatlasreader 0.14 et MGD 1.3

### Corrections
* Fichiers ODV, s&eacute;ries temporelles, date (variable primaire) : possibilit&eacute; d'utiliser n'importe quel format ISO et plus seulement [YYYY-MM-DDThh:mm:ss.sss]
* Fichiers ODV: gestion des fichiers contenant des lignes vides, ou ne contenant que des tabulations.
* Fichiers ODV: gestion des fichiers UTF-8 avec BOM (Byte Order Mark)
*Autorise les r&eacute;f&eacute;rences SDN vides lorsqu'elles utilisent la notation SDN_REFERENCES (seront ignor&eacute;es)

### Evolutions

* Fichiers ODV, formats de date: v&eacute;rification de la validit&eacute; des formats de dates ISO et de la coh&eacute;rence entre les formats des valeurs et les formats ISO (en-t&ecirc;tes des colonnes date de m&eacute;tadonn&eacute;es et date variable primaire des s&eacute;ries temporelles)
* Gestion des param&egrave;tres BODC: d&eacute;tection des param&egrave;tres non existant ou obsol&egrave;tes. Remplacement automatique des param&egrave;tres obsol&egrave;tes.
* Am&eacute;lioration des journaux: affichage du(des) fichier(s) en erreur dans le cas de la conversion d'un r&eacute;pertoire
* Type de fichier en sortie: remplacement de 'keep/split' par  'D&eacute;couper en fichier mono-station? Oui/Non' (pas de changement pour le mode batch)
* Utilisation d'une nouvelle notation pour le num&eacute;ro de version: major.minor.build number

## 1.3.8
* remplacement du système de log GUI
* depend de medatlasreader 0.13 et MGD 1.3


## 1.3.7

* NEMO - OCTOPUS - Gestion des paramètres obsolètes	35230
* OCTOPUS 1.2: cohérence format matadata date et date dans le fichier	36172
* OCTOPUS 1.2: accepter différentes précisions sur la date ISO des données	36173
* OCTOPUS 1.2 : Problème avec les fichier UNIX et UFT8	36215
* OCTOPUS 1.2 : Problème de conversion MEDATLAS vers ODV	36217
* OCTOPUS 1.2 : Traitement d'un répertoire de fichiers	36218
* OCTOPUS 1.2: mauvaise version indiquée dans A propos	36228
* OCTOPUS 1.2: ligne du fichier vide ou avec slmt des tabulations 	36338
* OCTOPUS 1.2: ajouter une phrase sur l'écran principal 	36339
* OCTOPUS 1.2: fichiers avec SDN_REFERENCES sans URL	37022
* Octopus 1.3: Changements dans le about d'Octopus	37027
* Octopus 1.3: Mauvais message d'infos	37030
* Octopus 1.3: Pourquoi ce warning avec le fichier joint?	37031
* OCTOPUS 1.3: Changer Split et Keep	37052
* OCTOPUS 1.3: rajouter un digit au numéro de version	37053
* mauvaise conversion medatlas vers cfpoint si nombre de SDN references …	37060
* depend de medatlasreader 0.13 et MGD 1.3	


## 1.2
* 32819 - Octopus - Conversion MGD par répertoire 	32819
* 32820 - Octopus - Conversion MGD - vider la coupling 	32820
* 32821 - Octopus - Utilisation de la coupling table 	32821
* 32965 - Octopus - Conversion MGD par répertoire - nommage des fichiers output	32965
* 32969 - Octopus - Conversion MGD par répertoire - mode batch 	32969
* 28737 - OCTOPUS v0.1 - Mode Batch - erreur si extra '\' à la fin du répertoire output	28737
* depend de medatlasreader 0.8 et MGD 1.1	


## 1.1

* desactivation de la conversion vers ODV et CFPoint  pour les fichiers d'entrée medatlas non SDN
* 28518 - Octopus v0.1: Conversion ODV mono/multi à partir d'un fichier ODVmono/multi 
* 28519 - Octopus v0.1: Conversion à partir d'un fichier avec vocabulaire v1 
* 28533 - Octopus v0.1: Message d'info résultat correct d'une action 
* 28608 - Octopus v0.1: Fichiers NetCDF monostation à partir d'un fichier NetCDF multistation
* 28612 - Octopus v0.1: Test de formats MedAtlas et ODV 
* 28626 - Octopus v0.1: Global attribut, Champ title 
* 28737 - OCTOPUS v0.1 - Mode Batch - erreur si extra '\' à la fin du répertoire output
* 28735 - OCTOPUS v0.1 - Mode Batch - questions sur le log 
* 28748 - OCTOPUS v0.1 - Format inséré dans la coupling table est faux 
* 28751 - OCTOPUS v0.1 - Vider la table coupling 
* 28916 - Octopus v0.1: Conversion vers des fichiers existants avec ou sans écrasement?
* 30674 - Octopus v1.0: rendre homogème l'écriture du format date ISO dans les fichiers ODV 
* 30675 - Octopus v1.0: lisibilité du fichier log
* depend de medatlasreader 0.8 et MGD 1.0



## 1.0
* depend de medatlasreader 0.7

